import{a as $}from"./chunk-J2FFU75D.js";import{a as y,b as u,c as T,d as q,e as I,f,h as A,i as G,j as D,k as V,m as M}from"./chunk-YFLYQD2R.js";import{D as o,Ha as R,L as s,M as d,Q as g,U as r,V as t,W as _,X as N,Y as c,ca as m,ja as b,r as S,s as h,xa as w}from"./chunk-ZZZLAB4E.js";function P(e,i){e&1&&(r(0,"p",14),m(1," Full Name is required "),t())}function j(e,i){if(e&1&&(r(0,"div",4),s(1,P,2,0,"p",13),t()),e&2){let a,n=c();o(),d("ngIf",(a=n.registerForm.get("fullName"))==null?null:a.getError("required"))}}function z(e,i){e&1&&(r(0,"p",14),m(1," email is required "),t())}function Z(e,i){e&1&&(r(0,"p",14),m(1," email pattern is wrong "),t())}function k(e,i){if(e&1&&(r(0,"div",4),s(1,z,2,0,"p",13)(2,Z,2,0,"p",13),t()),e&2){let a,n,l=c();o(),d("ngIf",(a=l.registerForm.get("email"))==null?null:a.getError("required")),o(),d("ngIf",(n=l.registerForm.get("email"))==null?null:n.getError("pattern"))}}function B(e,i){e&1&&(r(0,"p",14),m(1," Password is required "),t())}function H(e,i){e&1&&(r(0,"p",14),m(1," Password must start with a capital letter then a small letter or more then 6 numbers at least "),t())}function J(e,i){if(e&1&&(r(0,"div",4),s(1,B,2,0,"p",13)(2,H,2,0,"p",13),t()),e&2){let a,n,l=c();o(),d("ngIf",(a=l.registerForm.get("password"))==null?null:a.getError("required")),o(),d("ngIf",(n=l.registerForm.get("password"))==null?null:n.getError("pattern"))}}function K(e,i){e&1&&(r(0,"p",14),m(1," gender is required "),t())}function L(e,i){e&1&&(r(0,"p",14),m(1," gender must be 0 or 1 "),t())}function O(e,i){if(e&1&&(r(0,"div",4),s(1,K,2,0,"p",13)(2,L,2,0,"p",13),t()),e&2){let a,n,l=c();o(),d("ngIf",(a=l.registerForm.get("gender"))==null?null:a.getError("required")),o(),d("ngIf",(n=l.registerForm.get("gender"))==null?null:n.getError("pattern"))}}function Q(e,i){e&1&&(r(0,"p",14),m(1," role is required "),t())}function U(e,i){e&1&&(r(0,"p",14),m(1," role must be 0 or 1 or 2 or 3 or 4 "),t())}function W(e,i){if(e&1&&(r(0,"div",4),s(1,Q,2,0,"p",13)(2,U,2,0,"p",13),t()),e&2){let a,n,l=c();o(),d("ngIf",(a=l.registerForm.get("role"))==null?null:a.getError("required")),o(),d("ngIf",(n=l.registerForm.get("role"))==null?null:n.getError("pattern"))}}var le=(()=>{let i=class i{constructor(){this._Router=S(R),this._AuthService=S($),this.registerForm=new I({fullName:new f("",[u.required]),email:new f("",[u.required,u.email]),password:new f("",[u.required,u.pattern(/^[A-Z][a-z]{1,}[0-9]{6,}$/)]),gender:new f("",[u.required,u.pattern(/^[01]$/)]),role:new f("",[u.required,u.pattern(/^[01234]$/)])})}handleForm(){console.log(this.registerForm.value),this.registerForm.valid&&this._AuthService.register(this.registerForm.value).subscribe({next:n=>{console.log(n),this._Router.navigate(["/login"])},error:n=>{console.error(n.error.detail)}})}};i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=h({type:i,selectors:[["app-register"]],standalone:!0,features:[b],decls:29,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"item"],["for","fullName"],["type","text","id","fullName","name","fullName","formControlName","fullName",1,"form-control"],[1,"alert","alert-info","m-0","p-2"],["for","email"],["type","email","id","email","name","email","formControlName","email",1,"form-control"],["type","password","id","password","name","password","formControlName","password",1,"form-control"],["for","gender"],["type","number","id","gender","name","gender","formControlName","gender",1,"form-control"],["for","role"],["type","number","id","role","name","role","formControlName","role",1,"form-control"],[1,"form-control","btn","btn-info","mt-3",3,"disabled"],["class","m-0",4,"ngIf"],[1,"m-0"]],template:function(l,p){if(l&1&&(r(0,"section")(1,"form",0),N("ngSubmit",function(){return p.handleForm()}),r(2,"div",1)(3,"label",2),m(4,"fullName"),t(),_(5,"input",3),s(6,j,2,1,"div",4),t(),r(7,"div",1)(8,"label",5),m(9,"email"),t(),_(10,"input",6),s(11,k,3,2,"div",4),t(),r(12,"div",1)(13,"label",5),m(14,"password"),t(),_(15,"input",7),s(16,J,3,2,"div",4),t(),r(17,"div",1)(18,"label",8),m(19,"gender"),t(),_(20,"input",9),s(21,O,3,2,"div",4),t(),r(22,"div",1)(23,"label",10),m(24,"role"),t(),_(25,"input",11),s(26,W,3,2,"div",4),t(),r(27,"button",12),m(28," Register "),t()()()),l&2){let v,C,x,F,E;o(),d("formGroup",p.registerForm),o(5),g((v=p.registerForm.get("fullName"))!=null&&v.errors&&((v=p.registerForm.get("fullName"))!=null&&v.touched)?6:-1),o(5),g((C=p.registerForm.get("email"))!=null&&C.errors&&((C=p.registerForm.get("email"))!=null&&C.touched)?11:-1),o(5),g((x=p.registerForm.get("password"))!=null&&x.errors&&((x=p.registerForm.get("password"))!=null&&x.touched)?16:-1),o(5),g((F=p.registerForm.get("gender"))!=null&&F.errors&&((F=p.registerForm.get("gender"))!=null&&F.touched)?21:-1),o(5),g((E=p.registerForm.get("role"))!=null&&E.errors&&((E=p.registerForm.get("role"))!=null&&E.touched)?26:-1),o(),d("disabled",p.registerForm.invalid)}},dependencies:[M,A,y,G,T,q,D,V,w]});let e=i;return e})();export{le as RegisterComponent};

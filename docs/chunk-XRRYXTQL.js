import{a as G}from"./chunk-J2FFU75D.js";import{a as b,b as c,c as y,d as L,e as N,f as F,h as T,j as I,k as q,m as A}from"./chunk-YFLYQD2R.js";import{D as l,Ha as E,L as u,M as p,Q as _,U as o,V as i,W as v,X as S,Y as C,ca as a,ja as w,r as f,s as h,xa as x}from"./chunk-ZZZLAB4E.js";function D(e,t){e&1&&(o(0,"p",8),a(1," email is required "),i())}function R(e,t){e&1&&(o(0,"p",8),a(1," email pattern is wrong "),i())}function M(e,t){if(e&1&&(o(0,"div",4),u(1,D,2,0,"p",7)(2,R,2,0,"p",7),i()),e&2){let s,n,r=C();l(),p("ngIf",(s=r.loginForm.get("email"))==null?null:s.getError("required")),l(),p("ngIf",(n=r.loginForm.get("email"))==null?null:n.getError("pattern"))}}function V(e,t){e&1&&(o(0,"p",8),a(1," Password is required "),i())}function k(e,t){e&1&&(o(0,"p",8),a(1," Password must start with a capital letter then a small letter or more then 6 numbers at least "),i())}function P(e,t){if(e&1&&(o(0,"div",4),u(1,V,2,0,"p",7)(2,k,2,0,"p",7),i()),e&2){let s,n,r=C();l(),p("ngIf",(s=r.loginForm.get("password"))==null?null:s.getError("required")),l(),p("ngIf",(n=r.loginForm.get("password"))==null?null:n.getError("pattern"))}}var O=(()=>{let t=class t{constructor(){this._Router=f(E),this._AuthService=f(G),this.loginForm=new N({email:new F("",[c.required,c.email]),password:new F("",[c.required,c.pattern(/^[A-Z][a-z]{1,}[0-9]{6,}$/)])})}handleForm(){console.log(this.loginForm.value),this.loginForm.valid&&this._AuthService.login(this.loginForm.value).subscribe({next:n=>{console.log(n),localStorage.setItem("token",n.token),this._Router.navigate(["/category"])},error:n=>{console.error(n.error.detail)}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h({type:t,selectors:[["app-login"]],standalone:!0,features:[w],decls:14,vars:4,consts:[[3,"ngSubmit","formGroup"],[1,"item"],["for","email"],["type","email","id","email","name","email","formControlName","email",1,"form-control"],[1,"alert","alert-info","m-0","p-2"],["type","password","id","password","name","password","formControlName","password",1,"form-control"],[1,"form-control","btn","btn-info","mt-3",3,"disabled"],["class","m-0",4,"ngIf"],[1,"m-0"]],template:function(r,m){if(r&1&&(o(0,"section")(1,"form",0),S("ngSubmit",function(){return m.handleForm()}),o(2,"div",1)(3,"label",2),a(4,"email"),i(),v(5,"input",3),u(6,M,3,2,"div",4),i(),o(7,"div",1)(8,"label",2),a(9,"password"),i(),v(10,"input",5),u(11,P,3,2,"div",4),i(),o(12,"button",6),a(13," Login "),i()()()),r&2){let d,g;l(),p("formGroup",m.loginForm),l(5),_((d=m.loginForm.get("email"))!=null&&d.errors&&((d=m.loginForm.get("email"))!=null&&d.touched)?6:-1),l(5),_((g=m.loginForm.get("password"))!=null&&g.errors&&((g=m.loginForm.get("password"))!=null&&g.touched)?11:-1),l(),p("disabled",m.loginForm.invalid)}},dependencies:[A,T,b,y,L,I,q,x]});let e=t;return e})();export{O as LoginComponent};
